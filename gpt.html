<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>One Page Website with Cart Sidebar</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      /* Cart Sidebar Styles */
      #cartSidebar {
        position: fixed;
        top: 0;
        right: -300px; /* Initially hidden */
        width: 300px;
        height: 100%;
        background-color: #fff;
        box-shadow: -4px 0 8px rgba(0, 0, 0, 0.1);
        overflow-y: auto;
        transition: right 0.3s ease;
        z-index: 1050;
      }

      /* Overlay when sidebar is active */
      #cartOverlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: none;
        z-index: 1040;
      }

      .cart-item {
        padding: 10px;
        border-bottom: 1px solid #ddd;
      }
    </style>
  </head>
  <body>
    <!-- Navbar with Cart Icon -->
    <nav class="navbar navbar-light bg-light">
      <div class="container-fluid">
        <span class="navbar-brand">My Website</span>
        <button
          id="cartButton"
          class="btn btn-outline-secondary position-relative"
        >
          <i class="bi bi-cart"></i> Cart
          <span
            id="cartItemCount"
            class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
          >
            0
          </span>
        </button>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="container my-5">
      <h1>Welcome to Our Shop!</h1>
      <div class="row">
        <!-- Example Product Cards -->
        <div class="col-md-4 mb-3">
          <div class="card">
            <img
              src="https://via.placeholder.com/150"
              class="card-img-top"
              alt="Product"
            />
            <div class="card-body">
              <h5 class="card-title">Product 1</h5>
              <p class="card-text">$10.00</p>
              <button
                class="btn btn-primary add-to-cart"
                data-product="Product 1"
                data-price="10.00"
              >
                Add to Cart
              </button>
            </div>
          </div>
        </div>
        <!-- Add more product cards as needed -->
      </div>
    </div>

    <!-- Cart Sidebar -->
    <div id="cartSidebar">
      <div class="p-3 bg-light border-bottom">
        <h4>Your Cart</h4>
        <button class="btn-close float-end" id="closeCartButton"></button>
      </div>
      <div id="cartItems" class="p-3">
        <p class="text-muted">Your cart is empty.</p>
      </div>
    </div>

    <!-- Overlay (to close cart when clicked outside) -->
    <div id="cartOverlay"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // JavaScript for Cart Sidebar

      // Get elements
      const cartButton = document.getElementById("cartButton");
      const cartSidebar = document.getElementById("cartSidebar");
      const closeCartButton = document.getElementById("closeCartButton");
      const cartOverlay = document.getElementById("cartOverlay");
      const cartItemsContainer = document.getElementById("cartItems");
      const cartItemCount = document.getElementById("cartItemCount");

      let cartItems = [];

      // Open Cart Sidebar
      cartButton.addEventListener("click", () => {
        cartSidebar.style.right = "0";
        cartOverlay.style.display = "block";
      });

      // Close Cart Sidebar
      closeCartButton.addEventListener("click", closeCart);
      cartOverlay.addEventListener("click", closeCart);

      function closeCart() {
        cartSidebar.style.right = "-300px";
        cartOverlay.style.display = "none";
      }

      // Add to Cart Functionality
      document.querySelectorAll(".add-to-cart").forEach((button) => {
        button.addEventListener("click", (event) => {
          const productName = event.target.dataset.product;
          const productPrice = event.target.dataset.price;

          addToCart(productName, productPrice);
        });
      });

      function addToCart(productName, productPrice) {
        // Check if product is already in the cart
        const existingItem = cartItems.find(
          (item) => item.name === productName
        );

        if (existingItem) {
          existingItem.quantity += 1;
        } else {
          cartItems.push({
            name: productName,
            price: parseFloat(productPrice),
            quantity: 1,
          });
        }

        updateCartUI();
      }

      function updateCartUI() {
        // Clear cart items container
        cartItemsContainer.innerHTML = "";

        if (cartItems.length === 0) {
          cartItemsContainer.innerHTML =
            '<p class="text-muted">Your cart is empty.</p>';
        } else {
          cartItems.forEach((item) => {
            const itemElement = document.createElement("div");
            itemElement.classList.add("cart-item");
            itemElement.innerHTML = `
                        <strong>${item.name}</strong>
                        <p>Price: $${item.price.toFixed(2)}</p>
                        <p>Quantity: ${item.quantity}</p>
                    `;
            cartItemsContainer.appendChild(itemElement);
          });

          // Update cart item count badge
          cartItemCount.textContent = cartItems.length;
        }
      }
    </script>
  </body>
</html>
